<ul>
<% recipe.ingredientGroups.forEach(function(ingredientGroup) { %>
    <li>
        <% if (ingredientGroup.heading) { %>
            <span><%= ingredientGroup.heading %></span>
        <% } %>

        <ul>
        <% ingredientGroup.ingredients.forEach(function(ingredient) { %>
            <li>
                <% if (ingredient.amount) { %>
                <span>
                    <%= ingredient.amount %>
                </span>
                <% } %>
                <% if (ingredient.unit) { %>
                <span>
                    <%= ingredient.unit %>
                </span>
                <% } %>
                <span>
                    <%= ingredient.name %>
                </span>
            </li>
        <% }); %>
        </ul>
    </li>
<% }); %>
</ul>